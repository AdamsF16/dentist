"use strict";var navMobileBtn=document.querySelector(".nav__mobile-icon"),navMobile=document.querySelectorAll(".nav__item-mobile"),navLanguageBtn=document.querySelector(".nav__language-chosen"),navLanguageOption=document.querySelectorAll(".nav__language-btn"),navLanguagePolish=document.querySelector(".nav__language--pl"),navLanguageEnglish=document.querySelector(".nav__language--eng"),navLanguageContainer=document.querySelector(".nav__language-btn-container"),myProfileBtn=document.querySelector(".profile__my-profile-btn"),editBtn=document.querySelector(".profile__edit-btn"),historyBtn=document.querySelector(".profile__history-btn"),changePassBtn=document.querySelector(".profile__change-pass-btn"),myProfile=document.querySelector(".profile__my-profile-box"),changeData=document.querySelector(".profile__change-data-box"),visitHistory=document.querySelector(".profile__visit-history-box"),changePassBox=document.querySelector(".profile__reset-box"),resetPassbtn=document.querySelector(".profile__reset-btn"),oldPassInput=document.querySelector("#oldPassword"),newPassInput=document.querySelector("#changePassword"),repeatPasswordInput=document.querySelector("#changePasswordRepeat"),allInputs=document.querySelectorAll(".profile__reset-input"),oldPassAlert=document.querySelector(".profile__reset-alert--old"),repeatPassAlert=document.querySelector(".profile__reset-alert--change"),allAlerts=document.querySelectorAll(".profile__reset-alert"),corectAllert=document.querySelector(".profile__reset-alert-corect"),emailInput=document.querySelector("#changeEmail"),emailAlert=document.querySelector(".profile__change-alert-email"),changeBtn=document.querySelector(".profile__change-btn"),handleNav=function(){navMobile.forEach(function(e){e.classList.toggle("nav__active")}),removeLanguageBox()},removeLanguageBox=function(){navLanguageOption.forEach(function(e){e.classList.remove("nav__language-btn-active")})},handleLanguageNav=function(){navLanguageOption.forEach(function(e){e.classList.toggle("nav__language-btn-active")}),navMobile.forEach(function(e){e.classList.remove("nav__active")})},changeLanguage=function(e){e=e.target.innerText;navLanguageBtn.textContent=e,removeLanguageBox()},showMyProfile=function(){myProfile.classList.remove("profile__hidden"),changeData.classList.remove("profile__visible"),changeData.classList.add("profile__hidden"),visitHistory.classList.remove("profile__visible"),visitHistory.classList.add("profile__hidden"),changePassBox.classList.remove("profile__visible"),changePassBox.classList.add("profile__hidden")},showEditPanel=function(){myProfile.classList.remove("profile__visible"),myProfile.classList.add("profile__hidden"),changeData.classList.remove("profile__hidden"),changeData.classList.add("profile__visible"),visitHistory.classList.remove("profile__visible"),visitHistory.classList.add("profile__hidden"),changePassBox.classList.remove("profile__visible"),changePassBox.classList.add("profile__hidden")},showHistory=function(){myProfile.classList.remove("profile__visible"),myProfile.classList.add("profile__hidden"),changeData.classList.remove("profile__visible"),changeData.classList.add("profile__hidden"),visitHistory.classList.remove("profile__hidden"),visitHistory.classList.add("profile__visible"),changePassBox.classList.remove("profile__visible"),changePassBox.classList.add("profile__hidden")},showReset=function(){myProfile.classList.remove("profile__visible"),myProfile.classList.add("profile__hidden"),changeData.classList.remove("profile__visible"),changeData.classList.add("profile__hidden"),visitHistory.classList.remove("profile__visible"),visitHistory.classList.add("profile__hidden"),changePassBox.classList.remove("profile__hidden"),changePassBox.classList.add("profile__visible")},checkValue=function(){allInputs.forEach(function(e){""==e.value?(e.nextElementSibling.classList.add("profile__reset-alert--visible"),e.nextElementSibling.textContent="Podane pole nie może być puste."):e.nextElementSibling.classList.remove("profile__reset-alert--visible")})},passwordChecker=function(){newPassInput.value==repeatPasswordInput.value&&""!==repeatPasswordInput.value?(newPassInput.value="",repeatPasswordInput.value="",repeatPassAlert.classList.remove("profile__reset-alert--visible")):newPassInput.value==repeatPasswordInput.value&&""==repeatPasswordInput.value?(repeatPassAlert.classList.add("profile__reset-alert--visible"),repeatPassAlert.textContent="Podane pole nie może być puste."):(repeatPassAlert.classList.add("profile__reset-alert--visible"),repeatPassAlert.textContent="Podane hasła nie są taki same.")},checkPassInputs=function(){checkValue(),passwordChecker();var a=0;allAlerts.forEach(function(e){e.classList.contains("profile__reset-alert--visible")&&a++}),0===a?(corectAllert.classList.add("profile__reset-alert-corect--visible"),allInputs.forEach(function(e){return e.value=""})):corectAllert.classList.remove("profile__reset-alert-corect--visible")},checkCorrectEmail=function(){emailInput.value.match(/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/g)?emailAlert.classList.remove("profile__change-alert-email--visible"):emailAlert.classList.add("profile__change-alert-email--visible")};myProfileBtn.addEventListener("click",showMyProfile),editBtn.addEventListener("click",showEditPanel),historyBtn.addEventListener("click",showHistory),changePassBtn.addEventListener("click",showReset),changeBtn.addEventListener("click",checkCorrectEmail),resetPassbtn.addEventListener("click",checkPassInputs),navMobileBtn.addEventListener("click",handleNav),navLanguageBtn.addEventListener("click",handleLanguageNav),navLanguageContainer.addEventListener("click",changeLanguage);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2ZpbGUuanMiXSwibmFtZXMiOlsibmF2TW9iaWxlQnRuIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibmF2TW9iaWxlIiwicXVlcnlTZWxlY3RvckFsbCIsIm5hdkxhbmd1YWdlQnRuIiwibmF2TGFuZ3VhZ2VPcHRpb24iLCJuYXZMYW5ndWFnZVBvbGlzaCIsIm5hdkxhbmd1YWdlQ29udGFpbmVyIiwibXlQcm9maWxlQnRuIiwiZWRpdEJ0biIsImhpc3RvcnlCdG4iLCJjaGFuZ2VQYXNzQnRuIiwibXlQcm9maWxlIiwiY2hhbmdlRGF0YSIsInZpc2l0SGlzdG9yeSIsInJlc2V0UGFzc2J0biIsIm9sZFBhc3NJbnB1dCIsIm5ld1Bhc3NJbnB1dCIsInJlcGVhdFBhc3N3b3JkSW5wdXQiLCJhbGxJbnB1dHMiLCJvbGRQYXNzQWxlcnQiLCJyZXBlYXRQYXNzQWxlcnQiLCJhbGxBbGVydHMiLCJjb3JlY3RBbGxlcnQiLCJlbWFpbEFsZXJ0IiwiY2hhbmdlQnRuIiwibGluayIsImZvckVhY2giLCJyZW1vdmVMYW5ndWFnZUJveCIsImxhbmd1YWdlIiwiaGFuZGxlTGFuZ3VhZ2VOYXYiLCJyZW1vdmUiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJjaG9zZW5MYW5ndWFnZSIsInRleHRDb250ZW50IiwiY2hhbmdlTGFuZ3VhZ2UiLCJlIiwic2hvd015UHJvZmlsZSIsInRhcmdldCIsInNob3dFZGl0UGFuZWwiLCJhZGQiLCJjaGFuZ2VQYXNzQm94Iiwic2hvd0hpc3RvcnkiLCJjaGVja1ZhbHVlIiwiaW5wdXQiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJhbGxlcnRDb3VudCIsInZhbHVlIiwiY2hlY2tDb3JyZWN0RW1haWwiLCJjb3JyZWN0RW1haWwiLCJwYXNzd29yZENoZWNrZXIiLCJhbGVydCIsImNvbnRhaW5zIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZU5hdiIsInNob3dSZXNldCIsImNoZWNrUGFzc0lucHV0cyJdLCJtYXBwaW5ncyI6ImFBQUEs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QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdl9fbW9iaWxlLWljb24nKTtcclxuY29uc3QgbmF2TW9iaWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdl9faXRlbS1tb2JpbGUnKTtcclxuY29uc3QgbmF2TGFuZ3VhZ2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAubmF2X19sYW5ndWFnZS1jaG9zZW5gKTtcclxuY29uc3QgbmF2TGFuZ3VhZ2VPcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAubmF2X19sYW5ndWFnZS1idG5gKTtcclxuY29uc3QgbmF2TGFuZ3VhZ2VQb2xpc2ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAubmF2X19sYW5ndWFnZS0tcGxgKTtcclxuY29uc3QgbmF2TGFuZ3VhZ2VFbmdsaXNoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLm5hdl9fbGFuZ3VhZ2UtLWVuZ2ApO1xyXG5jb25zdCBuYXZMYW5ndWFnZUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5uYXZfX2xhbmd1YWdlLWJ0bi1jb250YWluZXJgKTtcclxuXHJcbmNvbnN0IG15UHJvZmlsZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5wcm9maWxlX19teS1wcm9maWxlLWJ0bmApXHJcbmNvbnN0IGVkaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAucHJvZmlsZV9fZWRpdC1idG5gKVxyXG5jb25zdCBoaXN0b3J5QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnByb2ZpbGVfX2hpc3RvcnktYnRuYClcclxuY29uc3QgY2hhbmdlUGFzc0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5wcm9maWxlX19jaGFuZ2UtcGFzcy1idG5gKVxyXG5jb25zdCBteVByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAucHJvZmlsZV9fbXktcHJvZmlsZS1ib3hgKVxyXG5jb25zdCBjaGFuZ2VEYXRhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnByb2ZpbGVfX2NoYW5nZS1kYXRhLWJveGApXHJcbmNvbnN0IHZpc2l0SGlzdG9yeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5wcm9maWxlX192aXNpdC1oaXN0b3J5LWJveGApXHJcbmNvbnN0IGNoYW5nZVBhc3NCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAucHJvZmlsZV9fcmVzZXQtYm94YClcclxuXHJcbmNvbnN0IHJlc2V0UGFzc2J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5wcm9maWxlX19yZXNldC1idG5gKVxyXG5jb25zdCBvbGRQYXNzSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjb2xkUGFzc3dvcmRgKVxyXG5jb25zdCBuZXdQYXNzSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjY2hhbmdlUGFzc3dvcmRgKVxyXG5jb25zdCByZXBlYXRQYXNzd29yZElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2NoYW5nZVBhc3N3b3JkUmVwZWF0YClcclxuY29uc3QgYWxsSW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLnByb2ZpbGVfX3Jlc2V0LWlucHV0YClcclxuY29uc3Qgb2xkUGFzc0FsZXJ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnByb2ZpbGVfX3Jlc2V0LWFsZXJ0LS1vbGRgKVxyXG5jb25zdCByZXBlYXRQYXNzQWxlcnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAucHJvZmlsZV9fcmVzZXQtYWxlcnQtLWNoYW5nZWApXHJcbmNvbnN0IGFsbEFsZXJ0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC5wcm9maWxlX19yZXNldC1hbGVydGApXHJcbmNvbnN0IGNvcmVjdEFsbGVydCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5wcm9maWxlX19yZXNldC1hbGVydC1jb3JlY3RgKVxyXG5cclxuY29uc3QgZW1haWxJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNjaGFuZ2VFbWFpbGApXHJcbmNvbnN0IGVtYWlsQWxlcnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAucHJvZmlsZV9fY2hhbmdlLWFsZXJ0LWVtYWlsYClcclxuY29uc3QgY2hhbmdlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnByb2ZpbGVfX2NoYW5nZS1idG5gKVxyXG5cclxuXHJcbi8vIE5BV0lHQUNKQVxyXG5jb25zdCBoYW5kbGVOYXYgPSAoKSA9PiB7XHJcblx0bmF2TW9iaWxlLmZvckVhY2goKGxpbmspID0+IHtcclxuXHRcdGxpbmsuY2xhc3NMaXN0LnRvZ2dsZShgbmF2X19hY3RpdmVgKTtcclxuXHR9KTtcclxuICAgIHJlbW92ZUxhbmd1YWdlQm94KClcclxufTtcclxuXHJcbmNvbnN0IHJlbW92ZUxhbmd1YWdlQm94ID0gKCkgPT4ge1xyXG4gICAgbmF2TGFuZ3VhZ2VPcHRpb24uZm9yRWFjaCgobGFuZ3VhZ2UpID0+IHtcclxuXHRcdGxhbmd1YWdlLmNsYXNzTGlzdC5yZW1vdmUoYG5hdl9fbGFuZ3VhZ2UtYnRuLWFjdGl2ZWApO1xyXG5cdH0pO1xyXG5cclxufVxyXG5cclxuY29uc3QgaGFuZGxlTGFuZ3VhZ2VOYXYgPSAoKSA9PiB7XHJcblx0bmF2TGFuZ3VhZ2VPcHRpb24uZm9yRWFjaCgobGFuZ3VhZ2UpID0+IHtcclxuXHRcdGxhbmd1YWdlLmNsYXNzTGlzdC50b2dnbGUoYG5hdl9fbGFuZ3VhZ2UtYnRuLWFjdGl2ZWApO1xyXG5cdH0pO1xyXG5cdG5hdk1vYmlsZS5mb3JFYWNoKChsaW5rKSA9PiB7XHJcblx0XHRsaW5rLmNsYXNzTGlzdC5yZW1vdmUoYG5hdl9fYWN0aXZlYCk7XHJcblx0fSk7XHJcbn07XHJcblxyXG5jb25zdCBjaGFuZ2VMYW5ndWFnZSA9IChlKSA9PiB7XHJcblx0Y29uc3QgY2hvc2VuTGFuZ3VhZ2UgPSBlLnRhcmdldC5pbm5lclRleHQ7XHJcblx0bmF2TGFuZ3VhZ2VCdG4udGV4dENvbnRlbnQgPSBjaG9zZW5MYW5ndWFnZTtcclxuXHJcbiAgICByZW1vdmVMYW5ndWFnZUJveCgpXHJcbn07XHJcblxyXG5cclxuXHJcbi8vIE5BV0lHQUNKQSBQQU5FTFUgUFJPRklMVVxyXG5jb25zdCBzaG93TXlQcm9maWxlID0gKCkgPT4ge1xyXG5cdG15UHJvZmlsZS5jbGFzc0xpc3QucmVtb3ZlKGBwcm9maWxlX19oaWRkZW5gKTtcclxuXHQvLyBteVByb2ZpbGUuY2xhc3NMaXN0LmFkZChgcHJvZmlsZV9fdmlzaWJsZWApO1xyXG5cdGNoYW5nZURhdGEuY2xhc3NMaXN0LnJlbW92ZShgcHJvZmlsZV9fdmlzaWJsZWApO1xyXG5cdGNoYW5nZURhdGEuY2xhc3NMaXN0LmFkZChgcHJvZmlsZV9faGlkZGVuYCk7XHJcblx0dmlzaXRIaXN0b3J5LmNsYXNzTGlzdC5yZW1vdmUoYHByb2ZpbGVfX3Zpc2libGVgKTtcclxuXHR2aXNpdEhpc3RvcnkuY2xhc3NMaXN0LmFkZChgcHJvZmlsZV9faGlkZGVuYCk7XHJcblx0Y2hhbmdlUGFzc0JveC5jbGFzc0xpc3QucmVtb3ZlKGBwcm9maWxlX192aXNpYmxlYClcclxuXHRjaGFuZ2VQYXNzQm94LmNsYXNzTGlzdC5hZGQoYHByb2ZpbGVfX2hpZGRlbmApXHJcbn1cclxuXHJcbmNvbnN0IHNob3dFZGl0UGFuZWwgPSAoKSA9PiB7XHJcblx0bXlQcm9maWxlLmNsYXNzTGlzdC5yZW1vdmUoYHByb2ZpbGVfX3Zpc2libGVgKVxyXG5cdG15UHJvZmlsZS5jbGFzc0xpc3QuYWRkKGBwcm9maWxlX19oaWRkZW5gKTtcclxuXHRjaGFuZ2VEYXRhLmNsYXNzTGlzdC5yZW1vdmUoYHByb2ZpbGVfX2hpZGRlbmApO1xyXG5cdGNoYW5nZURhdGEuY2xhc3NMaXN0LmFkZChgcHJvZmlsZV9fdmlzaWJsZWApO1xyXG5cdHZpc2l0SGlzdG9yeS5jbGFzc0xpc3QucmVtb3ZlKGBwcm9maWxlX192aXNpYmxlYCk7XHJcblx0dmlzaXRIaXN0b3J5LmNsYXNzTGlzdC5hZGQoYHByb2ZpbGVfX2hpZGRlbmApO1xyXG5cdGNoYW5nZVBhc3NCb3guY2xhc3NMaXN0LnJlbW92ZShgcHJvZmlsZV9fdmlzaWJsZWApXHJcblx0Y2hhbmdlUGFzc0JveC5jbGFzc0xpc3QuYWRkKGBwcm9maWxlX19oaWRkZW5gKVxyXG59XHJcblxyXG5jb25zdCBzaG93SGlzdG9yeSA9ICgpID0+IHtcclxuXHRteVByb2ZpbGUuY2xhc3NMaXN0LnJlbW92ZShgcHJvZmlsZV9fdmlzaWJsZWApXHJcblx0bXlQcm9maWxlLmNsYXNzTGlzdC5hZGQoYHByb2ZpbGVfX2hpZGRlbmApO1xyXG5cdGNoYW5nZURhdGEuY2xhc3NMaXN0LnJlbW92ZShgcHJvZmlsZV9fdmlzaWJsZWApO1xyXG5cdGNoYW5nZURhdGEuY2xhc3NMaXN0LmFkZChgcHJvZmlsZV9faGlkZGVuYCk7XHJcblx0dmlzaXRIaXN0b3J5LmNsYXNzTGlzdC5yZW1vdmUoYHByb2ZpbGVfX2hpZGRlbmApO1xyXG5cdHZpc2l0SGlzdG9yeS5jbGFzc0xpc3QuYWRkKGBwcm9maWxlX192aXNpYmxlYCk7XHJcblx0Y2hhbmdlUGFzc0JveC5jbGFzc0xpc3QucmVtb3ZlKGBwcm9maWxlX192aXNpYmxlYClcclxuXHRjaGFuZ2VQYXNzQm94LmNsYXNzTGlzdC5hZGQoYHByb2ZpbGVfX2hpZGRlbmApXHJcbn1cclxuXHJcbmNvbnN0IHNob3dSZXNldCA9ICgpID0+IHtcclxuXHRteVByb2ZpbGUuY2xhc3NMaXN0LnJlbW92ZShgcHJvZmlsZV9fdmlzaWJsZWApXHJcblx0bXlQcm9maWxlLmNsYXNzTGlzdC5hZGQoYHByb2ZpbGVfX2hpZGRlbmApO1xyXG5cdGNoYW5nZURhdGEuY2xhc3NMaXN0LnJlbW92ZShgcHJvZmlsZV9fdmlzaWJsZWApO1xyXG5cdGNoYW5nZURhdGEuY2xhc3NMaXN0LmFkZChgcHJvZmlsZV9faGlkZGVuYCk7XHJcblx0dmlzaXRIaXN0b3J5LmNsYXNzTGlzdC5yZW1vdmUoYHByb2ZpbGVfX3Zpc2libGVgKTtcclxuXHR2aXNpdEhpc3RvcnkuY2xhc3NMaXN0LmFkZChgcHJvZmlsZV9faGlkZGVuYCk7XHJcblx0Y2hhbmdlUGFzc0JveC5jbGFzc0xpc3QucmVtb3ZlKGBwcm9maWxlX19oaWRkZW5gKVxyXG5cdGNoYW5nZVBhc3NCb3guY2xhc3NMaXN0LmFkZChgcHJvZmlsZV9fdmlzaWJsZWApXHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vIFdBTElEQUNKQSBaTUlBTlkgSEFTxYFBXHJcbmNvbnN0IGNoZWNrVmFsdWUgPSAoKSA9PiB7XHJcblx0YWxsSW5wdXRzLmZvckVhY2goaW5wdXQgPT4ge1xyXG5cdFx0aWYoaW5wdXQudmFsdWUgPT0gXCJcIikge1xyXG5cdFx0XHRpbnB1dC5uZXh0RWxlbWVudFNpYmxpbmcuY2xhc3NMaXN0LmFkZChgcHJvZmlsZV9fcmVzZXQtYWxlcnQtLXZpc2libGVgKVxyXG5cdFx0XHRpbnB1dC5uZXh0RWxlbWVudFNpYmxpbmcudGV4dENvbnRlbnQgPSBgUG9kYW5lIHBvbGUgbmllIG1vxbxlIGJ5xIcgcHVzdGUuYFxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aW5wdXQubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC5yZW1vdmUoYHByb2ZpbGVfX3Jlc2V0LWFsZXJ0LS12aXNpYmxlYClcclxuXHRcdH1cclxuXHR9KVxyXG59XHJcblxyXG5jb25zdCBwYXNzd29yZENoZWNrZXIgPSAoKSA9PiB7XHJcbiAgICBpZihuZXdQYXNzSW5wdXQudmFsdWUgPT0gcmVwZWF0UGFzc3dvcmRJbnB1dC52YWx1ZSAmJiByZXBlYXRQYXNzd29yZElucHV0LnZhbHVlICE9PSBcIlwiKXtcclxuICAgICAgICBuZXdQYXNzSW5wdXQudmFsdWUgPSBgYFxyXG5cdFx0cmVwZWF0UGFzc3dvcmRJbnB1dC52YWx1ZSA9IGBgXHJcbiAgICAgICAgcmVwZWF0UGFzc0FsZXJ0LmNsYXNzTGlzdC5yZW1vdmUoYHByb2ZpbGVfX3Jlc2V0LWFsZXJ0LS12aXNpYmxlYClcclxuICAgIH0gZWxzZSBpZihuZXdQYXNzSW5wdXQudmFsdWUgPT0gcmVwZWF0UGFzc3dvcmRJbnB1dC52YWx1ZSAmJiByZXBlYXRQYXNzd29yZElucHV0LnZhbHVlID09IFwiXCIpIHtcclxuXHRcdHJlcGVhdFBhc3NBbGVydC5jbGFzc0xpc3QuYWRkKGBwcm9maWxlX19yZXNldC1hbGVydC0tdmlzaWJsZWApXHJcblx0XHRyZXBlYXRQYXNzQWxlcnQudGV4dENvbnRlbnQgPSBgUG9kYW5lIHBvbGUgbmllIG1vxbxlIGJ5xIcgcHVzdGUuYFxyXG5cdH1cclxuXHRlbHNlIHtcclxuICAgICAgICByZXBlYXRQYXNzQWxlcnQuY2xhc3NMaXN0LmFkZChgcHJvZmlsZV9fcmVzZXQtYWxlcnQtLXZpc2libGVgKVxyXG5cdFx0cmVwZWF0UGFzc0FsZXJ0LnRleHRDb250ZW50ID0gJ1BvZGFuZSBoYXPFgmEgbmllIHPEhSB0YWtpIHNhbWUuJ1xyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBjaGVja1Bhc3NJbnB1dHMgPSAoKSA9PiB7XHJcblx0Y2hlY2tWYWx1ZSgpXHJcblx0cGFzc3dvcmRDaGVja2VyKClcclxuXHJcblx0bGV0IGFsbGVydENvdW50ID0gMFxyXG5cclxuXHRhbGxBbGVydHMuZm9yRWFjaChhbGVydCA9PiAge1xyXG5cdFx0aWYoYWxlcnQuY2xhc3NMaXN0LmNvbnRhaW5zKGBwcm9maWxlX19yZXNldC1hbGVydC0tdmlzaWJsZWApKSB7XHJcblx0XHRcdGFsbGVydENvdW50KytcclxuXHRcdH0gXHJcblx0fSlcclxuXHJcblx0aWYoYWxsZXJ0Q291bnQgPT09IDApIHtcclxuXHRcdGNvcmVjdEFsbGVydC5jbGFzc0xpc3QuYWRkKGBwcm9maWxlX19yZXNldC1hbGVydC1jb3JlY3QtLXZpc2libGVgKVxyXG5cdFx0YWxsSW5wdXRzLmZvckVhY2goaW5wdXQgPT4gaW5wdXQudmFsdWUgPSBgYClcclxuXHR9IGVsc2Uge1xyXG5cdFx0Y29yZWN0QWxsZXJ0LmNsYXNzTGlzdC5yZW1vdmUoYHByb2ZpbGVfX3Jlc2V0LWFsZXJ0LWNvcmVjdC0tdmlzaWJsZWApXHJcblx0fVxyXG59XHJcblxyXG5cclxuLy8gRU1BSUxcclxuXHJcbmNvbnN0IGNoZWNrQ29ycmVjdEVtYWlsID0gKCkgPT4ge1xyXG5cdGNvbnN0IGNvcnJlY3RFbWFpbCA9IC9bYS16MC05ISMkJSYnKisvPT9eX2B7fH1+LV0rKD86XFwuW2EtejAtOSEjJCUmJyorLz0/Xl9ge3x9fi1dKykqQCg/OlthLXowLTldKD86W2EtejAtOS1dKlthLXowLTldKT9cXC4pK1thLXowLTldKD86W2EtejAtOS1dKlthLXowLTldKT8vZ1xyXG5cclxuXHRpZihlbWFpbElucHV0LnZhbHVlLm1hdGNoKGNvcnJlY3RFbWFpbCkpIHtcclxuXHRcdGVtYWlsQWxlcnQuY2xhc3NMaXN0LnJlbW92ZShgcHJvZmlsZV9fY2hhbmdlLWFsZXJ0LWVtYWlsLS12aXNpYmxlYClcclxuXHR9IGVsc2Uge1xyXG5cdFx0ZW1haWxBbGVydC5jbGFzc0xpc3QuYWRkKGBwcm9maWxlX19jaGFuZ2UtYWxlcnQtZW1haWwtLXZpc2libGVgKVxyXG5cdH1cclxufVxyXG5cclxuXHJcbi8vIGNvbnN0IGNoZWNrQ29ycmVjdEVtYWlsID0gKCkgPT4ge1xyXG4vLyBcdGNvbnN0IGNvcnJlY3RFbWFpbCA9IC9bYS16MC05ISMkJSYnKisvPT9eX2B7fH1+LV0rKD86XFwuW2EtejAtOSEjJCUmJyorLz0/Xl9ge3x9fi1dKykqQCg/OlthLXowLTldKD86W2EtejAtOS1dKlthLXowLTldKT9cXC4pK1thLXowLTldKD86W2EtejAtOS1dKlthLXowLTldKT8vZ1xyXG5cclxuLy8gXHRpZihlbWFpbFJlZ2lzdGVyLnZhbHVlLm1hdGNoKGNvcnJlY3RFbWFpbCkpe1xyXG4vLyBcdFx0Ly8gZW1haWxSZWdpc3Rlci52YWx1ZSA9ICcnXHJcbi8vIFx0XHRlbWFpbFJlZ2lzdGVyQWxsZXJ0LmNsYXNzTGlzdC5yZW1vdmUoYHJlZ2lzdGVyX19hbGVydC1lbWFpbC0tdmlzaWJsZWApXHJcbi8vIFx0XHRlbWFpbFJlZ2lzdGVyQWxsZXJ0LmNsYXNzTGlzdC5yZW1vdmUoYHJlZ2lzdGVyX19hbGVydC0tdmlzaWJsZWApXHJcbi8vIFx0fSBlbHNlIHtcclxuLy8gXHRcdGVtYWlsUmVnaXN0ZXJBbGxlcnQuY2xhc3NMaXN0LmFkZChgcmVnaXN0ZXJfX2FsZXJ0LWVtYWlsLS12aXNpYmxlYClcclxuLy8gXHRcdGVtYWlsUmVnaXN0ZXJBbGxlcnQudGV4dENvbnRlbnQgPSAnUHJvc3rEmSB3cGlzYcSHIHBvcHJhd255IGFkcmVzIGVtYWlsLidcclxuXHRcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxubXlQcm9maWxlQnRuLmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgc2hvd015UHJvZmlsZSlcclxuZWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsIHNob3dFZGl0UGFuZWwpXHJcbmhpc3RvcnlCdG4uYWRkRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCBzaG93SGlzdG9yeSlcclxuY2hhbmdlUGFzc0J0bi5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsIHNob3dSZXNldClcclxuXHJcbmNoYW5nZUJ0bi5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsIGNoZWNrQ29ycmVjdEVtYWlsKVxyXG5cclxucmVzZXRQYXNzYnRuLmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgY2hlY2tQYXNzSW5wdXRzKVxyXG5cclxubmF2TW9iaWxlQnRuLmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgaGFuZGxlTmF2KTtcclxubmF2TGFuZ3VhZ2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihgY2xpY2tgLCBoYW5kbGVMYW5ndWFnZU5hdik7XHJcbm5hdkxhbmd1YWdlQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgY2hhbmdlTGFuZ3VhZ2UpOyJdfQ==
